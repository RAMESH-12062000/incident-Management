sap.ui.define(["./BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/Token","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,o,i,l,a){"use strict";return e.extend("com.app.employeedetails.controller.Home",{onInit:function(){var e=this.getView();var t=e.byId("idFNameFilterValue");t.addValidator(function(e){if(true){var t=e.text;return new i({key:t,text:t})}});const o=new l({fName:"",lName:"",gender:"",DOB:"",contractStarted:"",email:"",phone:""});this.getView().setModel(o,"localModel");this.getRouter().attachRoutePatternMatched(this.onEmployeeListLoad,this)},onEmployeeListLoad:function(){this.getView().byId("idEmployeeTable").getBinding("items").refresh()},onGoPress:function(){const e=this.getView(),i=e.byId("idFNameFilterValue"),l=i.getTokens(),a=e.byId("idLNameFilterValue"),n=a.getValue(),s=e.byId("idEmailFilterValue"),r=s.getValue(),d=e.byId("iPhoneFilterValue"),m=d.getValue(),u=e.byId("idEmployeeTable"),g=[];l.filter(e=>{e?g.push(new t("fName",o.EQ,e.getKey())):""});n?g.push(new t("lName",o.EQ,n)):"";r?g.push(new t("email",o.EQ,r)):"";m?g.push(new t("phone",o.EQ,m)):"";u.getBinding("items").filter(g)},onClearFilterPress:function(){const e=this.getView(),t=e.byId("idEmailFilterValue").setValue(),o=e.byId("idFNameFilterValue").removeAllTokens(),i=e.byId("idLNameFilterValue").setValue(),l=e.byId("iPhoneFilterValue").setValue()},onSelectEmployee:function(e){const{ID:t,fName:o}=e.getSource().getSelectedItem().getBindingContext().getObject();const i=this.getOwnerComponent().getRouter();i.navTo("RouteDetails",{empId:t,empName:o})},onCreateBtnPress:async function(){if(!this.oCreateEmployeeDialog){this.oCreateEmployeeDialog=await this.loadFragment("CreateEmployeeDialog")}this.oCreateEmployeeDialog.open()},onCloseDialog:function(){if(this.oCreateEmployeeDialog.isOpen()){this.oCreateEmployeeDialog.close()}},onCreateEmployee:async function(){const e=this.getView().getModel("localModel").getProperty("/"),t=this.getView().getModel("ModelV2");try{await this.createData(t,e,"/Employee");this.getView().byId("idEmployeeTable").getBinding("items").refresh();this.oCreateEmployeeDialog.close()}catch(e){this.oCreateEmployeeDialog.close();a.error("Some technical Issue")}}})});